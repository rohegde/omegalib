<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OmegaLib: D:/Workspace/omegalib/trunk/include/omega/GpuBuffer.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>D:/Workspace/omegalib/trunk/include/omega/GpuBuffer.h</h1>  </div>
</div>
<div class="contents">
<a href="_gpu_buffer_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/********************************************************************************************************************** </span>
<a name="l00002"></a>00002 <span class="comment"> * THE OMEGA LIB PROJECT</span>
<a name="l00003"></a>00003 <span class="comment"> *---------------------------------------------------------------------------------------------------------------------</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright 2010                                                               Electronic Visualization Laboratory, University of Illinois at Chicago</span>
<a name="l00005"></a>00005 <span class="comment"> * Authors:                                                                             </span>
<a name="l00006"></a>00006 <span class="comment"> *  Alessandro Febretti                                                 febret@gmail.com</span>
<a name="l00007"></a>00007 <span class="comment"> *---------------------------------------------------------------------------------------------------------------------</span>
<a name="l00008"></a>00008 <span class="comment"> * Copyright (c) 2010, Electronic Visualization Laboratory, University of Illinois at Chicago</span>
<a name="l00009"></a>00009 <span class="comment"> * All rights reserved.</span>
<a name="l00010"></a>00010 <span class="comment"> * Redistribution and use in source and binary forms, with or without modification, are permitted provided that the </span>
<a name="l00011"></a>00011 <span class="comment"> * following conditions are met:</span>
<a name="l00012"></a>00012 <span class="comment"> * </span>
<a name="l00013"></a>00013 <span class="comment"> * Redistributions of source code must retain the above copyright notice, this list of conditions and the following </span>
<a name="l00014"></a>00014 <span class="comment"> * disclaimer. Redistributions in binary form must reproduce the above copyright notice, this list of conditions </span>
<a name="l00015"></a>00015 <span class="comment"> * and the following disclaimer in the documentation and/or other materials provided with the distribution. </span>
<a name="l00016"></a>00016 <span class="comment"> * </span>
<a name="l00017"></a>00017 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, </span>
<a name="l00018"></a>00018 <span class="comment"> * INCLUDING, BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE </span>
<a name="l00019"></a>00019 <span class="comment"> * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, </span>
<a name="l00020"></a>00020 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE  GOODS OR </span>
<a name="l00021"></a>00021 <span class="comment"> * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, </span>
<a name="l00022"></a>00022 <span class="comment"> * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE </span>
<a name="l00023"></a>00023 <span class="comment"> * USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00024"></a>00024 <span class="comment"> *********************************************************************************************************************/</span>
<a name="l00025"></a>00025 <span class="preprocessor">#ifndef __GPU_BUFFER_H__</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#define __GPU_BUFFER_H__</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="osystem_8h.html">osystem.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="_gpu_program_8h.html">omega/GpuProgram.h</a>&quot;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="keyword">namespace </span>omega
<a name="l00032"></a>00032 {
<a name="l00034"></a>00034         <span class="comment">// Forward declarations</span>
<a name="l00035"></a>00035         <span class="keyword">class </span>GpuManager;
<a name="l00036"></a>00036 
<a name="l00038"></a><a class="code" href="classomega_1_1_gpu_data.html">00038</a>         <span class="keyword">class </span><a class="code" href="osystem_8h.html#a8218be650a705d9f2357f037aa34be9f">OMEGA_API</a> <a class="code" href="classomega_1_1_gpu_data.html">GpuData</a>: <span class="keyword">public</span> <a class="code" href="classomega_1_1_dynamic_object.html">DynamicObject</a>
<a name="l00039"></a>00039         {
<a name="l00040"></a>00040         <span class="keyword">public</span>:
<a name="l00041"></a>00041                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> bind(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_program.html#a1d24952f02ab7be123cc853f1e79371f">GpuProgram::Stage</a> stage) = 0;
<a name="l00042"></a>00042                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> unbind(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_program.html#a1d24952f02ab7be123cc853f1e79371f">GpuProgram::Stage</a> stage) = 0;
<a name="l00043"></a>00043         };
<a name="l00044"></a>00044 
<a name="l00046"></a><a class="code" href="classomega_1_1_gpu_constant.html">00046</a>         <span class="keyword">class </span><a class="code" href="osystem_8h.html#a8218be650a705d9f2357f037aa34be9f">OMEGA_API</a> <a class="code" href="classomega_1_1_gpu_constant.html">GpuConstant</a>: <span class="keyword">public</span> <a class="code" href="classomega_1_1_gpu_data.html">GpuData</a>
<a name="l00047"></a>00047         {
<a name="l00048"></a>00048         <span class="keyword">public</span>:
<a name="l00050"></a><a class="code" href="classomega_1_1_gpu_constant.html#af31b89abb6956431f2825e6946966c2bacf5f66f645f0002ff036cf62149799e4">00050</a>                 <span class="keyword">enum</span> <a class="code" href="classomega_1_1_gpu_constant.html#af31b89abb6956431f2825e6946966c2b" title="The supported uniform types.">Type</a> {TypeInt, TypeFloat };
<a name="l00051"></a>00051 
<a name="l00052"></a>00052         <span class="keyword">public</span>:
<a name="l00053"></a>00053                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> bind(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_program.html#a1d24952f02ab7be123cc853f1e79371f">GpuProgram::Stage</a> stage);
<a name="l00054"></a>00054                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> unbind(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_program.html#a1d24952f02ab7be123cc853f1e79371f">GpuProgram::Stage</a> stage);
<a name="l00055"></a>00055 
<a name="l00057"></a><a class="code" href="classomega_1_1_gpu_constant.html#a64cdbd507037ed41c6c15400bf6c75f0">00057</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#a64cdbd507037ed41c6c15400bf6c75f0" title="Sets the uniform name.">setName</a>(<a class="code" href="namespaceomega.html#a39676bdac3c610b014bda97c88a94083">omega::String</a> value) { myName = value; }
<a name="l00058"></a>00058 
<a name="l00060"></a><a class="code" href="classomega_1_1_gpu_constant.html#a2301df154258452d04ec7f81a4d5dee6">00060</a>                 <a class="code" href="namespaceomega.html#a39676bdac3c610b014bda97c88a94083">omega::String</a> <a class="code" href="classomega_1_1_gpu_constant.html#a2301df154258452d04ec7f81a4d5dee6" title="Gets the uniform name.">getName</a>() { <span class="keywordflow">return</span> myName; }
<a name="l00061"></a>00061 
<a name="l00062"></a><a class="code" href="classomega_1_1_gpu_constant.html#a580abfac62d08b589f68fa4b056f8f98">00062</a>                 <a class="code" href="classomega_1_1_gpu_constant.html#af31b89abb6956431f2825e6946966c2b" title="The supported uniform types.">Type</a> <a class="code" href="classomega_1_1_gpu_constant.html#a580abfac62d08b589f68fa4b056f8f98">getType</a>() { <span class="keywordflow">return</span> myType; }
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="classomega_1_1_gpu_constant.html#a93e3c6b0481dc61bc24036692ca1d589">00064</a>                 <a class="code" href="otypes_8h.html#a5ac0f3c4d7fafd42b284b5487a791017">GLint</a> <a class="code" href="classomega_1_1_gpu_constant.html#a93e3c6b0481dc61bc24036692ca1d589">getGLUniformId</a>() { <span class="keywordflow">return</span> myGLUniformId; }
<a name="l00065"></a><a class="code" href="classomega_1_1_gpu_constant.html#a09693747c375759227561ca97556e402">00065</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#a09693747c375759227561ca97556e402">setGLUniformId</a>(<a class="code" href="otypes_8h.html#a5ac0f3c4d7fafd42b284b5487a791017">GLint</a> value) { myGLUniformId = value; }
<a name="l00066"></a>00066 
<a name="l00069"></a><a class="code" href="classomega_1_1_gpu_constant.html#a09079fe6487dc72e2aa3205dd470a25c">00069</a>                 <span class="keywordtype">void</span>* getAddress()
<a name="l00070"></a>00070                 {
<a name="l00071"></a>00071                         <span class="keywordflow">if</span>(myType == TypeInt) <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)myIntVector.data();
<a name="l00072"></a>00072                         <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)myFloatVector.data();
<a name="l00073"></a>00073                 }
<a name="l00074"></a>00074 
<a name="l00076"></a><a class="code" href="classomega_1_1_gpu_constant.html#a166793e36e80f52fb4f812ddc596a10d">00076</a>                 <span class="keywordtype">int</span> getSize()
<a name="l00077"></a>00077                 {
<a name="l00078"></a>00078                         <span class="keywordflow">return</span> myComponents * <span class="keyword">sizeof</span>(float);
<a name="l00079"></a>00079                 }
<a name="l00080"></a>00080 
<a name="l00081"></a><a class="code" href="classomega_1_1_gpu_constant.html#aeae2f166314cd49320cb3b21af20978f">00081</a>                 <span class="keywordtype">void</span> setIntValue(<span class="keywordtype">int</span> x)
<a name="l00082"></a>00082                 {
<a name="l00083"></a>00083                         myType = TypeInt;
<a name="l00084"></a>00084                         myComponents = 1;
<a name="l00085"></a>00085                         myIntVector.x() = x;
<a name="l00086"></a>00086                 }
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="classomega_1_1_gpu_constant.html#ad837d4c0514944d512dc46ee0be16b9d">00088</a>                 <span class="keywordtype">void</span> setIntValue(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)
<a name="l00089"></a>00089                 {
<a name="l00090"></a>00090                         myType = TypeInt;
<a name="l00091"></a>00091                         myComponents = 2;
<a name="l00092"></a>00092                         myIntVector.x() = x;
<a name="l00093"></a>00093                         myIntVector.y() = y;
<a name="l00094"></a>00094                 }
<a name="l00095"></a>00095 
<a name="l00096"></a><a class="code" href="classomega_1_1_gpu_constant.html#a8234a98c373d8933835107fe38983353">00096</a>                 <span class="keywordtype">void</span> setIntValue(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> z)
<a name="l00097"></a>00097                 {
<a name="l00098"></a>00098                         myType = TypeInt;
<a name="l00099"></a>00099                         myComponents = 3;
<a name="l00100"></a>00100                         myIntVector.x() = x;
<a name="l00101"></a>00101                         myIntVector.y() = y;
<a name="l00102"></a>00102                         myIntVector.z() = z;
<a name="l00103"></a>00103                 }
<a name="l00104"></a>00104 
<a name="l00105"></a><a class="code" href="classomega_1_1_gpu_constant.html#a2b025ed60466f5a529369f13ea910a58">00105</a>                 <span class="keywordtype">void</span> setIntValue(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> z, <span class="keywordtype">int</span> w)
<a name="l00106"></a>00106                 {
<a name="l00107"></a>00107                         myType = TypeInt;
<a name="l00108"></a>00108                         myComponents = 4;
<a name="l00109"></a>00109                         myIntVector.x() = x;
<a name="l00110"></a>00110                         myIntVector.y() = y;
<a name="l00111"></a>00111                         myIntVector.z() = z;
<a name="l00112"></a>00112                         myIntVector.w() = w;
<a name="l00113"></a>00113                 }
<a name="l00114"></a>00114 
<a name="l00115"></a><a class="code" href="classomega_1_1_gpu_constant.html#a969c1c3e75e0d6f264677e3882742957">00115</a>                 <a class="code" href="classomega_1_1math_1_1vector.html">omega::Vector4i</a>&amp; getIntValue()
<a name="l00116"></a>00116                 {
<a name="l00117"></a>00117                         <a class="code" href="osystem_8h.html#a007bd259e00c9e367839cb8f31eb19f9">oassert</a>(myType == TypeInt);
<a name="l00118"></a>00118                         <span class="keywordflow">return</span> myIntVector;
<a name="l00119"></a>00119                 }
<a name="l00120"></a>00120 
<a name="l00121"></a><a class="code" href="classomega_1_1_gpu_constant.html#ab36ab214fad1249518c8fa6890da3c0c">00121</a>                 <span class="keywordtype">void</span> setFloatValue(<span class="keywordtype">float</span> x)
<a name="l00122"></a>00122                 {
<a name="l00123"></a>00123                         myType = TypeFloat;
<a name="l00124"></a>00124                         myComponents = 1;
<a name="l00125"></a>00125                         myFloatVector.x() = x;
<a name="l00126"></a>00126                 }
<a name="l00127"></a>00127 
<a name="l00128"></a><a class="code" href="classomega_1_1_gpu_constant.html#afde44da3d9413e883728c2cdbdbe9ccf">00128</a>                 <span class="keywordtype">void</span> setFloatValue(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y)
<a name="l00129"></a>00129                 {
<a name="l00130"></a>00130                         myType = TypeFloat;
<a name="l00131"></a>00131                         myComponents = 2;
<a name="l00132"></a>00132                         myFloatVector.x() = x;
<a name="l00133"></a>00133                         myFloatVector.y() = y;
<a name="l00134"></a>00134                 }
<a name="l00135"></a>00135 
<a name="l00136"></a><a class="code" href="classomega_1_1_gpu_constant.html#a87e63aaa95ff52b67d398a8f377a32a7">00136</a>                 <span class="keywordtype">void</span> setFloatValue(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z)
<a name="l00137"></a>00137                 {
<a name="l00138"></a>00138                         myType = TypeFloat;
<a name="l00139"></a>00139                         myComponents = 3;
<a name="l00140"></a>00140                         myFloatVector.x() = x;
<a name="l00141"></a>00141                         myFloatVector.y() = y;
<a name="l00142"></a>00142                         myFloatVector.z() = z;
<a name="l00143"></a>00143                 }
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="classomega_1_1_gpu_constant.html#a28dfc384c7b0d30f2c8e312882f652fe">00145</a>                 <span class="keywordtype">void</span> setFloatValue(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z, <span class="keywordtype">float</span> w)
<a name="l00146"></a>00146                 {
<a name="l00147"></a>00147                         myType = TypeFloat;
<a name="l00148"></a>00148                         myComponents = 4;
<a name="l00149"></a>00149                         myFloatVector.x() = x;
<a name="l00150"></a>00150                         myFloatVector.y() = y;
<a name="l00151"></a>00151                         myFloatVector.z() = z;
<a name="l00152"></a>00152                         myFloatVector.w() = w;
<a name="l00153"></a>00153                 }
<a name="l00154"></a>00154 
<a name="l00155"></a><a class="code" href="classomega_1_1_gpu_constant.html#a33b0315733a26f01c529a34eb250c4e2">00155</a>                 <a class="code" href="classomega_1_1math_1_1vector.html">omega::Vector4f</a>&amp; getFloatValue()
<a name="l00156"></a>00156                 {
<a name="l00157"></a>00157                         <a class="code" href="osystem_8h.html#a007bd259e00c9e367839cb8f31eb19f9">oassert</a>(myType == TypeFloat);
<a name="l00158"></a>00158                         <span class="keywordflow">return</span> myFloatVector;
<a name="l00159"></a>00159                 }
<a name="l00160"></a>00160 
<a name="l00161"></a><a class="code" href="classomega_1_1_gpu_constant.html#abc597cda9c00a050f277e1548e5bddb9">00161</a>                 <span class="keywordtype">int</span> getComponents()
<a name="l00162"></a>00162                 {
<a name="l00163"></a>00163                         <span class="keywordflow">return</span> myComponents;
<a name="l00164"></a>00164                 }
<a name="l00165"></a>00165 
<a name="l00166"></a>00166         <span class="keyword">private</span>:
<a name="l00167"></a>00167                 Type myType;
<a name="l00168"></a>00168                 <a class="code" href="namespaceomega.html#a39676bdac3c610b014bda97c88a94083">omega::String</a> myName;
<a name="l00169"></a>00169 
<a name="l00170"></a>00170                 <a class="code" href="otypes_8h.html#a5ac0f3c4d7fafd42b284b5487a791017">GLint</a> myGLUniformId;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172                 <a class="code" href="classomega_1_1math_1_1vector.html">omega::Vector4f</a> myFloatVector;
<a name="l00173"></a>00173                 <a class="code" href="classomega_1_1math_1_1vector.html">omega::Vector4i</a> myIntVector;
<a name="l00174"></a>00174                 <span class="keywordtype">int</span> myComponents;
<a name="l00175"></a>00175         };
<a name="l00176"></a>00176 
<a name="l00178"></a><a class="code" href="classomega_1_1_gpu_buffer.html">00178</a>         <span class="keyword">class </span><a class="code" href="osystem_8h.html#a8218be650a705d9f2357f037aa34be9f">OMEGA_API</a> <a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>: <span class="keyword">public</span> <a class="code" href="classomega_1_1_gpu_data.html">GpuData</a>
<a name="l00179"></a>00179         {
<a name="l00180"></a>00180         <span class="keyword">public</span>:
<a name="l00181"></a><a class="code" href="classomega_1_1_gpu_buffer.html#a19ffba1beb94a5af2d64fe14ce4065b6a55c2a09c088119f2fba0e4ba1f8c4c82">00181</a>                 <span class="keyword">enum</span> <a class="code" href="classomega_1_1_gpu_buffer.html#a19ffba1beb94a5af2d64fe14ce4065b6">BufferFlags</a> { BufferFlagsCLNative = 1 &lt;&lt; 1};
<a name="l00182"></a>00182 
<a name="l00183"></a>00183         <span class="keyword">public</span>:
<a name="l00184"></a>00184                 <a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>(<a class="code" href="classomega_1_1_gpu_manager.html" title="Loads images and manages OpenGL textures.">GpuManager</a>* mng);
<a name="l00185"></a>00185                 ~<a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>();
<a name="l00186"></a>00186 
<a name="l00187"></a>00187                 <span class="keywordtype">void</span> initialize(<span class="keywordtype">int</span> size, <span class="keywordtype">int</span> elementSize, <span class="keywordtype">void</span>* data = NULL, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufferFlags = 0);
<a name="l00188"></a>00188                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> bind(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_program.html#a1d24952f02ab7be123cc853f1e79371f">GpuProgram::Stage</a> stage);
<a name="l00189"></a>00189                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> unbind(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_program.html#a1d24952f02ab7be123cc853f1e79371f">GpuProgram::Stage</a> stage);
<a name="l00190"></a>00190                 
<a name="l00191"></a>00191                 <span class="keywordtype">void</span> copyTo(<a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>* destination, <span class="keywordtype">int</span> srcOffset,<span class="keywordtype">int</span> dstOffset,  <span class="keywordtype">int</span> length);
<a name="l00192"></a>00192 
<a name="l00194"></a><a class="code" href="classomega_1_1_gpu_buffer.html#a26e23032c1e5d199375e4992a7727e1a">00194</a>                 <span class="keywordtype">bool</span> <a class="code" href="classomega_1_1_gpu_buffer.html#a26e23032c1e5d199375e4992a7727e1a" title="Gets wether this buffer is a CL native buffer.">isCLNative</a>() { <span class="keywordflow">return</span> myBufferFlags &amp; BufferFlagsCLNative; } 
<a name="l00195"></a>00195 
<a name="l00197"></a>00197                 <span class="keywordtype">void</span> setData(<span class="keywordtype">void</span>* data);
<a name="l00198"></a>00198 
<a name="l00199"></a><a class="code" href="classomega_1_1_gpu_buffer.html#a8790a20e65533938d9b0d1fb025f0524">00199</a>                 <a class="code" href="otypes_8h.html#aa311c7f0d6ec4f1a33f9235c3651b86b">GLuint</a> <a class="code" href="classomega_1_1_gpu_buffer.html#a8790a20e65533938d9b0d1fb025f0524">getGLBuffer</a>() { <span class="keywordflow">return</span> myGLBuffer; }
<a name="l00200"></a>00200                 <a class="code" href="otypes_8h.html#a0bc3cbcf5a2c3b8a26e05326e1751703">cl_mem</a> getCLBuffer();
<a name="l00201"></a>00201 
<a name="l00202"></a><a class="code" href="classomega_1_1_gpu_buffer.html#a6e715c78509141e6ef54d4f053c3416c">00202</a>                 <span class="keywordtype">int</span> <a class="code" href="classomega_1_1_gpu_buffer.html#a6e715c78509141e6ef54d4f053c3416c">getSize</a>() { <span class="keywordflow">return</span> mySize; }
<a name="l00203"></a><a class="code" href="classomega_1_1_gpu_buffer.html#ae2ed4d07e4a2885e3624a7845bc29bf8">00203</a>                 <span class="keywordtype">int</span> <a class="code" href="classomega_1_1_gpu_buffer.html#ae2ed4d07e4a2885e3624a7845bc29bf8">getElementSize</a>() { <span class="keywordflow">return</span> myElementSize; }
<a name="l00204"></a><a class="code" href="classomega_1_1_gpu_buffer.html#ac227872ee8bba78d38aff805856f6b11">00204</a>                 <span class="keywordtype">int</span> <a class="code" href="classomega_1_1_gpu_buffer.html#ac227872ee8bba78d38aff805856f6b11">getLength</a>() { <span class="keywordflow">return</span> myLength; }
<a name="l00205"></a>00205 
<a name="l00206"></a>00206         <span class="keyword">protected</span>:
<a name="l00207"></a><a class="code" href="classomega_1_1_gpu_buffer.html#ae3d624568cc57c5a01a8728e91dcedfc">00207</a>                 <a class="code" href="classomega_1_1_gpu_manager.html" title="Loads images and manages OpenGL textures.">GpuManager</a>* myGpu;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209         <span class="keyword">private</span>:
<a name="l00210"></a>00210                 <span class="keywordtype">void</span> acquireGLBuffer();
<a name="l00211"></a>00211                 <span class="keywordtype">void</span> unacquireGLBuffer();
<a name="l00212"></a>00212 
<a name="l00213"></a>00213         <span class="keyword">private</span>:
<a name="l00214"></a>00214                 <a class="code" href="otypes_8h.html#aa311c7f0d6ec4f1a33f9235c3651b86b">GLuint</a> myGLBuffer;
<a name="l00215"></a>00215                 <a class="code" href="otypes_8h.html#a0bc3cbcf5a2c3b8a26e05326e1751703">cl_mem</a> myCLBuffer;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> myBufferFlags;
<a name="l00218"></a>00218 
<a name="l00219"></a>00219                 <span class="keywordtype">int</span> mySize;
<a name="l00220"></a>00220                 <span class="keywordtype">int</span> myElementSize;
<a name="l00221"></a>00221                 <span class="keywordtype">int</span> myLength;
<a name="l00222"></a>00222         };
<a name="l00223"></a>00223 
<a name="l00225"></a><a class="code" href="structomega_1_1_vertex_attribute.html">00225</a>         <span class="keyword">struct </span><a class="code" href="structomega_1_1_vertex_attribute.html">VertexAttribute</a>
<a name="l00226"></a>00226         {
<a name="l00228"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9">00228</a>                 <span class="keyword">enum</span> <a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9" title="The attirbute components type.">Type</a> 
<a name="l00229"></a>00229                 { 
<a name="l00230"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9ac8abaacffdf061f3bbfa6029795f3926">00230</a>                         TypeInt, 
<a name="l00231"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9a908cf33afbdc9425b048405bc34b2221">00231</a>                         <a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9a908cf33afbdc9425b048405bc34b2221">TypeFloat</a> 
<a name="l00232"></a>00232                 };
<a name="l00233"></a>00233 
<a name="l00235"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9">00235</a>                 <span class="keyword">enum</span> <a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9" title="Specified the supported attribute destination semantics.">Target</a> 
<a name="l00236"></a>00236                 { 
<a name="l00237"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9a92e0497a21bdb4a46642d7fbd58d4ee3">00237</a>                         TargetPosition, 
<a name="l00238"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9a39afd87841791f829a84485f89c95703">00238</a>                         TargetPrimaryColor, 
<a name="l00239"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9ac31afa2a34e2819b4dc22e1e2723b50a">00239</a>                         TargetSecondaryColor, 
<a name="l00240"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9ac494cbda60c81e9f83d8228e1eeac1d0">00240</a>                         TargetNormal, 
<a name="l00241"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9aca33938553ea812533f7be5ae01c85b1">00241</a>                         TargetTexture0, 
<a name="l00242"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9aaf8e0ae628e2893b2b2e35665cf2b2e1">00242</a>                         TargetTexture1, 
<a name="l00243"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9ac821e1a863a8e9596700b66279106cc8">00243</a>                         TargetTexture2, 
<a name="l00244"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9a2525d5dfcb1e5a304489045d4109eda9">00244</a>                         <a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9a2525d5dfcb1e5a304489045d4109eda9">TargetTexture3</a> 
<a name="l00245"></a>00245                 };
<a name="l00246"></a>00246 
<a name="l00248"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a44cf8c573b924c0a9f3f6383377a0bb4">00248</a>                 <a class="code" href="structomega_1_1_vertex_attribute.html#a44cf8c573b924c0a9f3f6383377a0bb4" title="Constructor.">VertexAttribute</a>() {}
<a name="l00249"></a>00249 
<a name="l00251"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a0aecd42dd3971218d7ba8f2cf0082e5b">00251</a>                 <a class="code" href="structomega_1_1_vertex_attribute.html#a44cf8c573b924c0a9f3f6383377a0bb4" title="Constructor.">VertexAttribute</a>(<a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9" title="Specified the supported attribute destination semantics.">Target</a> _target, <a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9" title="The attirbute components type.">Type</a> _type, <span class="keywordtype">int</span> _offset, <span class="keywordtype">int</span> _components):
<a name="l00252"></a>00252                   <a class="code" href="structomega_1_1_vertex_attribute.html#a9630d72304e1f3c843ca58d5a6579746" title="The destination semantics for the attribute.">target</a>(_target), <a class="code" href="structomega_1_1_vertex_attribute.html#a57e6c4e8c3d1d76e6e5cc0e3ddbc4d0e" title="The component time for this attribute.">type</a>(_type), <a class="code" href="structomega_1_1_vertex_attribute.html#aa0431ac5345d2d94e20c8ac3974d7304" title="The offset in the buffer for this attribute&amp;#39;s data.">offset</a>(_offset), <a class="code" href="structomega_1_1_vertex_attribute.html#a1c13398378cc9d931d238e711a3d93ee" title="The number of components for this attribute.">components</a>(_components) {}
<a name="l00253"></a>00253 
<a name="l00255"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a1c13398378cc9d931d238e711a3d93ee">00255</a>                 <span class="keywordtype">int</span> <a class="code" href="structomega_1_1_vertex_attribute.html#a1c13398378cc9d931d238e711a3d93ee" title="The number of components for this attribute.">components</a>;
<a name="l00257"></a><a class="code" href="structomega_1_1_vertex_attribute.html#aa0431ac5345d2d94e20c8ac3974d7304">00257</a>                 <span class="keywordtype">int</span> <a class="code" href="structomega_1_1_vertex_attribute.html#aa0431ac5345d2d94e20c8ac3974d7304" title="The offset in the buffer for this attribute&amp;#39;s data.">offset</a>;
<a name="l00259"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a57e6c4e8c3d1d76e6e5cc0e3ddbc4d0e">00259</a>                 <a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9" title="The attirbute components type.">Type</a> <a class="code" href="structomega_1_1_vertex_attribute.html#a57e6c4e8c3d1d76e6e5cc0e3ddbc4d0e" title="The component time for this attribute.">type</a>;
<a name="l00261"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a9630d72304e1f3c843ca58d5a6579746">00261</a>                 <a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9" title="Specified the supported attribute destination semantics.">Target</a> <a class="code" href="structomega_1_1_vertex_attribute.html#a9630d72304e1f3c843ca58d5a6579746" title="The destination semantics for the attribute.">target</a>;
<a name="l00262"></a>00262         };
<a name="l00263"></a>00263 
<a name="l00265"></a><a class="code" href="classomega_1_1_vertex_buffer.html">00265</a>         <span class="keyword">class </span><a class="code" href="osystem_8h.html#a8218be650a705d9f2357f037aa34be9f">OMEGA_API</a> <a class="code" href="classomega_1_1_vertex_buffer.html">VertexBuffer</a>: <span class="keyword">public</span> <a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>
<a name="l00266"></a>00266         {
<a name="l00267"></a>00267         <span class="keyword">public</span>:
<a name="l00268"></a><a class="code" href="classomega_1_1_vertex_buffer.html#a116bd56c32875ba6952fa6a2a75791f0">00268</a>                 <a class="code" href="classomega_1_1_vertex_buffer.html">VertexBuffer</a>(<a class="code" href="classomega_1_1_gpu_manager.html" title="Loads images and manages OpenGL textures.">GpuManager</a>* mng):
<a name="l00269"></a>00269                   <a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>(mng)
<a name="l00270"></a>00270                   {}
<a name="l00271"></a>00271 
<a name="l00273"></a><a class="code" href="classomega_1_1_vertex_buffer.html#a2b75acb0117d9a3e46efe35049d97e7e">00273</a>                 <a class="code" href="structomega_1_1_vertex_attribute.html">VertexAttribute</a>* <a class="code" href="classomega_1_1_vertex_buffer.html#a2b75acb0117d9a3e46efe35049d97e7e">getAttribute</a>(<span class="keywordtype">int</span> index) { <span class="keywordflow">return</span> &amp;myAttributes[index]; }
<a name="l00274"></a>00274                 <span class="keywordtype">void</span> clearAttributes();
<a name="l00275"></a>00275                 <span class="keywordtype">int</span> getNumAttributes();
<a name="l00276"></a>00276                 <span class="keywordtype">int</span> addAttribute(<span class="keyword">const</span> <a class="code" href="structomega_1_1_vertex_attribute.html">VertexAttribute</a>&amp; attrib);
<a name="l00277"></a>00277 
<a name="l00282"></a>00282                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> bind(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog = NULL, <span class="keywordtype">int</span> index = 0, <a class="code" href="classomega_1_1_gpu_program.html#a1d24952f02ab7be123cc853f1e79371f">GpuProgram::Stage</a> stage = <a class="code" href="classomega_1_1_gpu_program.html#a1d24952f02ab7be123cc853f1e79371fa8b9daf78da2c37beca656b2e255bcf64">GpuProgram::RenderStage</a>);
<a name="l00283"></a>00283                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> unbind(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog = NULL, <span class="keywordtype">int</span> index = 0, <a class="code" href="classomega_1_1_gpu_program.html#a1d24952f02ab7be123cc853f1e79371f">GpuProgram::Stage</a> stage = <a class="code" href="classomega_1_1_gpu_program.html#a1d24952f02ab7be123cc853f1e79371fa8b9daf78da2c37beca656b2e255bcf64">GpuProgram::RenderStage</a>);
<a name="l00284"></a>00284 
<a name="l00285"></a>00285         <span class="keyword">private</span>:
<a name="l00286"></a>00286                 std::vector&lt;VertexAttribute&gt; myAttributes;
<a name="l00287"></a>00287         };
<a name="l00288"></a>00288 }; <span class="comment">// namespace omega</span>
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Jun 27 2011 23:49:39 for OmegaLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
