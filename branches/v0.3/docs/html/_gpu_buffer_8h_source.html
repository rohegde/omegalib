<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OmegaLib: D:/Workspace/omegalib-0.3/include/omega/GpuBuffer.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>D:/Workspace/omegalib-0.3/include/omega/GpuBuffer.h</h1>  </div>
</div>
<div class="contents">
<a href="_gpu_buffer_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/********************************************************************************************************************** </span>
<a name="l00002"></a>00002 <span class="comment"> * THE OMEGA LIB PROJECT</span>
<a name="l00003"></a>00003 <span class="comment"> *---------------------------------------------------------------------------------------------------------------------</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright 2010                                                               Electronic Visualization Laboratory, University of Illinois at Chicago</span>
<a name="l00005"></a>00005 <span class="comment"> * Authors:                                                                             </span>
<a name="l00006"></a>00006 <span class="comment"> *  Alessandro Febretti                                                 febret@gmail.com</span>
<a name="l00007"></a>00007 <span class="comment"> *---------------------------------------------------------------------------------------------------------------------</span>
<a name="l00008"></a>00008 <span class="comment"> * [LICENSE NOTE]</span>
<a name="l00009"></a>00009 <span class="comment"> *---------------------------------------------------------------------------------------------------------------------</span>
<a name="l00010"></a>00010 <span class="comment"> * [SUMMARY OF FILE CONTENTS]</span>
<a name="l00011"></a>00011 <span class="comment"> *********************************************************************************************************************/</span>
<a name="l00012"></a>00012 <span class="preprocessor">#ifndef __GPU_BUFFER_H__</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span><span class="preprocessor">#define __GPU_BUFFER_H__</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;<a class="code" href="osystem_8h.html">osystem.h</a>&quot;</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;CL/cl.h&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;CL/cl_gl.h&quot;</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="keyword">namespace </span>omega
<a name="l00021"></a>00021 {
<a name="l00023"></a>00023         <span class="comment">// Forward declarations</span>
<a name="l00024"></a>00024         <span class="keyword">class </span>GpuManager;
<a name="l00025"></a>00025         <span class="keyword">class </span>GpuProgram;
<a name="l00026"></a>00026 
<a name="l00028"></a><a class="code" href="classomega_1_1_gpu_data.html">00028</a>         <span class="keyword">class </span><a class="code" href="classomega_1_1_gpu_data.html">GpuData</a>
<a name="l00029"></a>00029         {
<a name="l00030"></a>00030         <span class="keyword">public</span>:
<a name="l00031"></a><a class="code" href="classomega_1_1_gpu_data.html#aaef22784ee3b2930365fe99c21965421">00031</a>                 <span class="keyword">enum</span> <a class="code" href="classomega_1_1_gpu_data.html#aaef22784ee3b2930365fe99c21965421">BindType</a> { BindToComputeStage, <a class="code" href="classomega_1_1_gpu_data.html#aaef22784ee3b2930365fe99c21965421a8eec3c30ebef81528e2a15f51d072918">BindToRenderStage</a> };
<a name="l00032"></a>00032         <span class="keyword">public</span>:
<a name="l00033"></a>00033                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_data.html#a41b82eac50a66f65345bc8f9a7fa6f40">bind</a>(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_data.html#aaef22784ee3b2930365fe99c21965421">GpuData::BindType</a> bindType) = 0;
<a name="l00034"></a>00034                 <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_data.html#ad7ab56f73036e00b01d2c79ba0a80951">unbind</a>(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_data.html#aaef22784ee3b2930365fe99c21965421">GpuData::BindType</a> bindType) = 0;
<a name="l00035"></a>00035         };
<a name="l00036"></a>00036 
<a name="l00038"></a><a class="code" href="classomega_1_1_gpu_constant.html">00038</a>         <span class="keyword">class </span><a class="code" href="classomega_1_1_gpu_constant.html">GpuConstant</a>: <span class="keyword">public</span> <a class="code" href="classomega_1_1_gpu_data.html">GpuData</a>
<a name="l00039"></a>00039         {
<a name="l00040"></a>00040         <span class="keyword">public</span>:
<a name="l00042"></a><a class="code" href="classomega_1_1_gpu_constant.html#af31b89abb6956431f2825e6946966c2bacf5f66f645f0002ff036cf62149799e4">00042</a>                 <span class="keyword">enum</span> <a class="code" href="classomega_1_1_gpu_constant.html#af31b89abb6956431f2825e6946966c2b" title="The supported uniform types.">Type</a> {TypeInt, <a class="code" href="classomega_1_1_gpu_constant.html#af31b89abb6956431f2825e6946966c2bac23e322c6dfdcef4c1394f518cbe715d">TypeFloat</a> };
<a name="l00043"></a>00043 
<a name="l00044"></a>00044         <span class="keyword">public</span>:
<a name="l00045"></a>00045                 OMEGA_API <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#a0d2252af8eaa03562a3afb5d55fb6aa6">bind</a>(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_data.html#aaef22784ee3b2930365fe99c21965421">GpuData::BindType</a> bindType);
<a name="l00046"></a>00046                 OMEGA_API <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#a37392e75187c4ef8a38737923861e660">unbind</a>(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_data.html#aaef22784ee3b2930365fe99c21965421">GpuData::BindType</a> bindType);
<a name="l00047"></a>00047 
<a name="l00049"></a><a class="code" href="classomega_1_1_gpu_constant.html#a64cdbd507037ed41c6c15400bf6c75f0">00049</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#a64cdbd507037ed41c6c15400bf6c75f0" title="Sets the uniform name.">setName</a>(<a class="code" href="namespaceomega.html#a39676bdac3c610b014bda97c88a94083">omega::String</a> value) { myName = value; }
<a name="l00050"></a>00050 
<a name="l00052"></a><a class="code" href="classomega_1_1_gpu_constant.html#a2301df154258452d04ec7f81a4d5dee6">00052</a>                 <a class="code" href="namespaceomega.html#a39676bdac3c610b014bda97c88a94083">omega::String</a> <a class="code" href="classomega_1_1_gpu_constant.html#a2301df154258452d04ec7f81a4d5dee6" title="Gets the uniform name.">getName</a>() { <span class="keywordflow">return</span> myName; }
<a name="l00053"></a>00053 
<a name="l00054"></a><a class="code" href="classomega_1_1_gpu_constant.html#a580abfac62d08b589f68fa4b056f8f98">00054</a>                 <a class="code" href="classomega_1_1_gpu_constant.html#af31b89abb6956431f2825e6946966c2b" title="The supported uniform types.">Type</a> <a class="code" href="classomega_1_1_gpu_constant.html#a580abfac62d08b589f68fa4b056f8f98">getType</a>() { <span class="keywordflow">return</span> myType; }
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="classomega_1_1_gpu_constant.html#a93e3c6b0481dc61bc24036692ca1d589">00056</a>                 GLint <a class="code" href="classomega_1_1_gpu_constant.html#a93e3c6b0481dc61bc24036692ca1d589">getGLUniformId</a>() { <span class="keywordflow">return</span> myGLUniformId; }
<a name="l00057"></a><a class="code" href="classomega_1_1_gpu_constant.html#a09693747c375759227561ca97556e402">00057</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#a09693747c375759227561ca97556e402">setGLUniformId</a>(GLint value) { myGLUniformId = value; }
<a name="l00058"></a>00058 
<a name="l00061"></a><a class="code" href="classomega_1_1_gpu_constant.html#a09079fe6487dc72e2aa3205dd470a25c">00061</a>                 <span class="keywordtype">void</span>* <a class="code" href="classomega_1_1_gpu_constant.html#a09079fe6487dc72e2aa3205dd470a25c">getAddress</a>()
<a name="l00062"></a>00062                 {
<a name="l00063"></a>00063                         <span class="keywordflow">if</span>(myType == <a class="code" href="classomega_1_1_gpu_constant.html#af31b89abb6956431f2825e6946966c2bacf5f66f645f0002ff036cf62149799e4">TypeInt</a>) <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)myIntVector.begin();
<a name="l00064"></a>00064                         <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)myFloatVector.begin();
<a name="l00065"></a>00065                 }
<a name="l00066"></a>00066 
<a name="l00068"></a><a class="code" href="classomega_1_1_gpu_constant.html#a166793e36e80f52fb4f812ddc596a10d">00068</a>                 <span class="keywordtype">int</span> <a class="code" href="classomega_1_1_gpu_constant.html#a166793e36e80f52fb4f812ddc596a10d" title="return the size in bytes of this constant.">getSize</a>()
<a name="l00069"></a>00069                 {
<a name="l00070"></a>00070                         <span class="keywordflow">return</span> myComponents * <span class="keyword">sizeof</span>(float);
<a name="l00071"></a>00071                 }
<a name="l00072"></a>00072 
<a name="l00073"></a><a class="code" href="classomega_1_1_gpu_constant.html#aeae2f166314cd49320cb3b21af20978f">00073</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#aeae2f166314cd49320cb3b21af20978f">setIntValue</a>(<span class="keywordtype">int</span> x)
<a name="l00074"></a>00074                 {
<a name="l00075"></a>00075                         myType = TypeInt;
<a name="l00076"></a>00076                         myComponents = 1;
<a name="l00077"></a>00077                         myIntVector.x() = x;
<a name="l00078"></a>00078                 }
<a name="l00079"></a>00079 
<a name="l00080"></a><a class="code" href="classomega_1_1_gpu_constant.html#ad837d4c0514944d512dc46ee0be16b9d">00080</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#aeae2f166314cd49320cb3b21af20978f">setIntValue</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)
<a name="l00081"></a>00081                 {
<a name="l00082"></a>00082                         myType = TypeInt;
<a name="l00083"></a>00083                         myComponents = 2;
<a name="l00084"></a>00084                         myIntVector.x() = x;
<a name="l00085"></a>00085                         myIntVector.y() = y;
<a name="l00086"></a>00086                 }
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="classomega_1_1_gpu_constant.html#a8234a98c373d8933835107fe38983353">00088</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#aeae2f166314cd49320cb3b21af20978f">setIntValue</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> z)
<a name="l00089"></a>00089                 {
<a name="l00090"></a>00090                         myType = TypeInt;
<a name="l00091"></a>00091                         myComponents = 3;
<a name="l00092"></a>00092                         myIntVector.x() = x;
<a name="l00093"></a>00093                         myIntVector.y() = y;
<a name="l00094"></a>00094                         myIntVector.z() = z;
<a name="l00095"></a>00095                 }
<a name="l00096"></a>00096 
<a name="l00097"></a><a class="code" href="classomega_1_1_gpu_constant.html#a2b025ed60466f5a529369f13ea910a58">00097</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#aeae2f166314cd49320cb3b21af20978f">setIntValue</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> z, <span class="keywordtype">int</span> w)
<a name="l00098"></a>00098                 {
<a name="l00099"></a>00099                         myType = TypeInt;
<a name="l00100"></a>00100                         myComponents = 4;
<a name="l00101"></a>00101                         myIntVector.x() = x;
<a name="l00102"></a>00102                         myIntVector.y() = y;
<a name="l00103"></a>00103                         myIntVector.z() = z;
<a name="l00104"></a>00104                         myIntVector.w() = w;
<a name="l00105"></a>00105                 }
<a name="l00106"></a>00106 
<a name="l00107"></a><a class="code" href="classomega_1_1_gpu_constant.html#a969c1c3e75e0d6f264677e3882742957">00107</a>                 <a class="code" href="namespaceomega.html#a572b3f8d2c37469de15a6f42a1238ba2" title="A four-component integer vector.">omega::Vector4i</a>&amp; <a class="code" href="classomega_1_1_gpu_constant.html#a969c1c3e75e0d6f264677e3882742957">getIntValue</a>()
<a name="l00108"></a>00108                 {
<a name="l00109"></a>00109                         <a class="code" href="osystem_8h.html#a007bd259e00c9e367839cb8f31eb19f9">oassert</a>(myType == <a class="code" href="classomega_1_1_gpu_constant.html#af31b89abb6956431f2825e6946966c2bacf5f66f645f0002ff036cf62149799e4">TypeInt</a>);
<a name="l00110"></a>00110                         <span class="keywordflow">return</span> myIntVector;
<a name="l00111"></a>00111                 }
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="classomega_1_1_gpu_constant.html#ab36ab214fad1249518c8fa6890da3c0c">00113</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#ab36ab214fad1249518c8fa6890da3c0c">setFloatValue</a>(<span class="keywordtype">float</span> x)
<a name="l00114"></a>00114                 {
<a name="l00115"></a>00115                         myType = TypeFloat;
<a name="l00116"></a>00116                         myComponents = 1;
<a name="l00117"></a>00117                         myFloatVector.x() = x;
<a name="l00118"></a>00118                 }
<a name="l00119"></a>00119 
<a name="l00120"></a><a class="code" href="classomega_1_1_gpu_constant.html#afde44da3d9413e883728c2cdbdbe9ccf">00120</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#ab36ab214fad1249518c8fa6890da3c0c">setFloatValue</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y)
<a name="l00121"></a>00121                 {
<a name="l00122"></a>00122                         myType = TypeFloat;
<a name="l00123"></a>00123                         myComponents = 2;
<a name="l00124"></a>00124                         myFloatVector.x() = x;
<a name="l00125"></a>00125                         myFloatVector.y() = y;
<a name="l00126"></a>00126                 }
<a name="l00127"></a>00127 
<a name="l00128"></a><a class="code" href="classomega_1_1_gpu_constant.html#a87e63aaa95ff52b67d398a8f377a32a7">00128</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#ab36ab214fad1249518c8fa6890da3c0c">setFloatValue</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z)
<a name="l00129"></a>00129                 {
<a name="l00130"></a>00130                         myType = TypeFloat;
<a name="l00131"></a>00131                         myComponents = 3;
<a name="l00132"></a>00132                         myFloatVector.x() = x;
<a name="l00133"></a>00133                         myFloatVector.y() = y;
<a name="l00134"></a>00134                         myFloatVector.z() = z;
<a name="l00135"></a>00135                 }
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="classomega_1_1_gpu_constant.html#a28dfc384c7b0d30f2c8e312882f652fe">00137</a>                 <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_constant.html#ab36ab214fad1249518c8fa6890da3c0c">setFloatValue</a>(<span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <span class="keywordtype">float</span> z, <span class="keywordtype">float</span> w)
<a name="l00138"></a>00138                 {
<a name="l00139"></a>00139                         myType = TypeFloat;
<a name="l00140"></a>00140                         myComponents = 4;
<a name="l00141"></a>00141                         myFloatVector.x() = x;
<a name="l00142"></a>00142                         myFloatVector.y() = y;
<a name="l00143"></a>00143                         myFloatVector.z() = z;
<a name="l00144"></a>00144                         myFloatVector.w() = w;
<a name="l00145"></a>00145                 }
<a name="l00146"></a>00146 
<a name="l00147"></a><a class="code" href="classomega_1_1_gpu_constant.html#a33b0315733a26f01c529a34eb250c4e2">00147</a>                 <a class="code" href="namespaceomega.html#ab46b49fae37b4ba2d9069f3f39ae6ee5" title="A four-component float vector.">omega::Vector4f</a>&amp; <a class="code" href="classomega_1_1_gpu_constant.html#a33b0315733a26f01c529a34eb250c4e2">getFloatValue</a>()
<a name="l00148"></a>00148                 {
<a name="l00149"></a>00149                         <a class="code" href="osystem_8h.html#a007bd259e00c9e367839cb8f31eb19f9">oassert</a>(myType == <a class="code" href="classomega_1_1_gpu_constant.html#af31b89abb6956431f2825e6946966c2bac23e322c6dfdcef4c1394f518cbe715d">TypeFloat</a>);
<a name="l00150"></a>00150                         <span class="keywordflow">return</span> myFloatVector;
<a name="l00151"></a>00151                 }
<a name="l00152"></a>00152 
<a name="l00153"></a><a class="code" href="classomega_1_1_gpu_constant.html#abc597cda9c00a050f277e1548e5bddb9">00153</a>                 <span class="keywordtype">int</span> <a class="code" href="classomega_1_1_gpu_constant.html#abc597cda9c00a050f277e1548e5bddb9">getComponents</a>()
<a name="l00154"></a>00154                 {
<a name="l00155"></a>00155                         <span class="keywordflow">return</span> myComponents;
<a name="l00156"></a>00156                 }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158         <span class="keyword">private</span>:
<a name="l00159"></a>00159                 <a class="code" href="classomega_1_1_gpu_constant.html#af31b89abb6956431f2825e6946966c2b" title="The supported uniform types.">Type</a> myType;
<a name="l00160"></a>00160                 <a class="code" href="namespaceomega.html#a39676bdac3c610b014bda97c88a94083">omega::String</a> myName;
<a name="l00161"></a>00161 
<a name="l00162"></a>00162                 GLint myGLUniformId;
<a name="l00163"></a>00163 
<a name="l00164"></a>00164                 <a class="code" href="namespaceomega.html#ab46b49fae37b4ba2d9069f3f39ae6ee5" title="A four-component float vector.">omega::Vector4f</a> myFloatVector;
<a name="l00165"></a>00165                 <a class="code" href="namespaceomega.html#a572b3f8d2c37469de15a6f42a1238ba2" title="A four-component integer vector.">omega::Vector4i</a> myIntVector;
<a name="l00166"></a>00166                 <span class="keywordtype">int</span> myComponents;
<a name="l00167"></a>00167         };
<a name="l00168"></a>00168 
<a name="l00170"></a><a class="code" href="classomega_1_1_gpu_buffer.html">00170</a>         <span class="keyword">class </span><a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>: <span class="keyword">public</span> <a class="code" href="classomega_1_1_gpu_data.html">GpuData</a>
<a name="l00171"></a>00171         {
<a name="l00172"></a>00172         <span class="keyword">public</span>:
<a name="l00173"></a><a class="code" href="classomega_1_1_gpu_buffer.html#a19ffba1beb94a5af2d64fe14ce4065b6a55c2a09c088119f2fba0e4ba1f8c4c82">00173</a>                 <span class="keyword">enum</span> <a class="code" href="classomega_1_1_gpu_buffer.html#a19ffba1beb94a5af2d64fe14ce4065b6">BufferFlags</a> { <a class="code" href="classomega_1_1_gpu_buffer.html#a19ffba1beb94a5af2d64fe14ce4065b6a55c2a09c088119f2fba0e4ba1f8c4c82">BufferFlagsCLNative</a> = 1 &lt;&lt; 1};
<a name="l00174"></a>00174 
<a name="l00175"></a>00175         <span class="keyword">public</span>:
<a name="l00176"></a>00176                 OMEGA_API <a class="code" href="classomega_1_1_gpu_buffer.html#a2a826553950af7ae732a08fdc286e52c">GpuBuffer</a>(<a class="code" href="classomega_1_1_gpu_manager.html" title="Loads images and manages OpenGL textures.">GpuManager</a>* mng);
<a name="l00177"></a>00177                 OMEGA_API <a class="code" href="classomega_1_1_gpu_buffer.html#ac8923327c7c18c2e455215c727988e68">~GpuBuffer</a>();
<a name="l00178"></a>00178 
<a name="l00179"></a>00179                 OMEGA_API <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_buffer.html#ac0038d48c50df6f03acd13f8fb68175d">initialize</a>(<span class="keywordtype">int</span> size, <span class="keywordtype">int</span> elementSize, <span class="keywordtype">void</span>* data = NULL, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> bufferFlags = 0);
<a name="l00180"></a>00180                 OMEGA_API <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_buffer.html#a3b176a7b72fc570a223bd2012e40342d">bind</a>(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_data.html#aaef22784ee3b2930365fe99c21965421">GpuData::BindType</a> bindType);
<a name="l00181"></a>00181                 OMEGA_API <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_buffer.html#aa479fb9adba23b37d154c50a2e4176f8">unbind</a>(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_data.html#aaef22784ee3b2930365fe99c21965421">GpuData::BindType</a> bindType);
<a name="l00182"></a>00182                 
<a name="l00183"></a>00183                 OMEGA_API <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_buffer.html#a0ea591e96078ea9443b263b637adbe8d">copyTo</a>(<a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>* destination, <span class="keywordtype">int</span> srcOffset,<span class="keywordtype">int</span> dstOffset,  <span class="keywordtype">int</span> length);
<a name="l00184"></a>00184 
<a name="l00186"></a><a class="code" href="classomega_1_1_gpu_buffer.html#a26e23032c1e5d199375e4992a7727e1a">00186</a>                 <span class="keywordtype">bool</span> <a class="code" href="classomega_1_1_gpu_buffer.html#a26e23032c1e5d199375e4992a7727e1a" title="Gets wether this buffer is a CL native buffer.">isCLNative</a>() { <span class="keywordflow">return</span> myBufferFlags &amp; BufferFlagsCLNative; } 
<a name="l00187"></a>00187 
<a name="l00189"></a>00189                 OMEGA_API <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_gpu_buffer.html#a6eb1a89fc1de40f24b69449ebb88233f" title="Sets the gpu buffer data.">setData</a>(<span class="keywordtype">void</span>* data);
<a name="l00190"></a>00190 
<a name="l00191"></a><a class="code" href="classomega_1_1_gpu_buffer.html#a8790a20e65533938d9b0d1fb025f0524">00191</a>                 GLuint <a class="code" href="classomega_1_1_gpu_buffer.html#a8790a20e65533938d9b0d1fb025f0524">getGLBuffer</a>() { <span class="keywordflow">return</span> myGLBuffer; }
<a name="l00192"></a>00192                 OMEGA_API cl_mem <a class="code" href="classomega_1_1_gpu_buffer.html#a7730671493fe11e15d05fa0b6b963d90">getCLBuffer</a>();
<a name="l00193"></a>00193 
<a name="l00194"></a><a class="code" href="classomega_1_1_gpu_buffer.html#a6e715c78509141e6ef54d4f053c3416c">00194</a>                 <span class="keywordtype">int</span> <a class="code" href="classomega_1_1_gpu_buffer.html#a6e715c78509141e6ef54d4f053c3416c">getSize</a>() { <span class="keywordflow">return</span> mySize; }
<a name="l00195"></a><a class="code" href="classomega_1_1_gpu_buffer.html#ae2ed4d07e4a2885e3624a7845bc29bf8">00195</a>                 <span class="keywordtype">int</span> <a class="code" href="classomega_1_1_gpu_buffer.html#ae2ed4d07e4a2885e3624a7845bc29bf8">getElementSize</a>() { <span class="keywordflow">return</span> myElementSize; }
<a name="l00196"></a><a class="code" href="classomega_1_1_gpu_buffer.html#ac227872ee8bba78d38aff805856f6b11">00196</a>                 <span class="keywordtype">int</span> <a class="code" href="classomega_1_1_gpu_buffer.html#ac227872ee8bba78d38aff805856f6b11">getLength</a>() { <span class="keywordflow">return</span> myLength; }
<a name="l00197"></a>00197 
<a name="l00198"></a>00198         <span class="keyword">protected</span>:
<a name="l00199"></a><a class="code" href="classomega_1_1_gpu_buffer.html#ae3d624568cc57c5a01a8728e91dcedfc">00199</a>                 <a class="code" href="classomega_1_1_gpu_manager.html" title="Loads images and manages OpenGL textures.">GpuManager</a>* <a class="code" href="classomega_1_1_gpu_buffer.html#ae3d624568cc57c5a01a8728e91dcedfc">myGpu</a>;
<a name="l00200"></a>00200 
<a name="l00201"></a>00201         <span class="keyword">private</span>:
<a name="l00202"></a>00202                 <span class="keywordtype">void</span> acquireGLBuffer();
<a name="l00203"></a>00203                 <span class="keywordtype">void</span> unacquireGLBuffer();
<a name="l00204"></a>00204 
<a name="l00205"></a>00205         <span class="keyword">private</span>:
<a name="l00206"></a>00206                 GLuint myGLBuffer;
<a name="l00207"></a>00207                 cl_mem myCLBuffer;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> myBufferFlags;
<a name="l00210"></a>00210 
<a name="l00211"></a>00211                 <span class="keywordtype">int</span> mySize;
<a name="l00212"></a>00212                 <span class="keywordtype">int</span> myElementSize;
<a name="l00213"></a>00213                 <span class="keywordtype">int</span> myLength;
<a name="l00214"></a>00214         };
<a name="l00215"></a>00215 
<a name="l00217"></a><a class="code" href="structomega_1_1_vertex_attribute.html">00217</a>         <span class="keyword">struct </span><a class="code" href="structomega_1_1_vertex_attribute.html">VertexAttribute</a>
<a name="l00218"></a>00218         {
<a name="l00220"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9">00220</a>                 <span class="keyword">enum</span> <a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9" title="The attirbute components type.">Type</a> 
<a name="l00221"></a>00221                 { 
<a name="l00222"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9ac8abaacffdf061f3bbfa6029795f3926">00222</a>                         TypeInt, 
<a name="l00223"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9a908cf33afbdc9425b048405bc34b2221">00223</a>                         <a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9a908cf33afbdc9425b048405bc34b2221">TypeFloat</a> 
<a name="l00224"></a>00224                 };
<a name="l00225"></a>00225 
<a name="l00227"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9">00227</a>                 <span class="keyword">enum</span> <a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9" title="Specified the supported attribute destination semantics.">Target</a> 
<a name="l00228"></a>00228                 { 
<a name="l00229"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9a92e0497a21bdb4a46642d7fbd58d4ee3">00229</a>                         TargetPosition, 
<a name="l00230"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9a39afd87841791f829a84485f89c95703">00230</a>                         TargetPrimaryColor, 
<a name="l00231"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9ac31afa2a34e2819b4dc22e1e2723b50a">00231</a>                         TargetSecondaryColor, 
<a name="l00232"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9aca33938553ea812533f7be5ae01c85b1">00232</a>                         TargetTexture0, 
<a name="l00233"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9aaf8e0ae628e2893b2b2e35665cf2b2e1">00233</a>                         TargetTexture1, 
<a name="l00234"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9ac821e1a863a8e9596700b66279106cc8">00234</a>                         TargetTexture2, 
<a name="l00235"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9a2525d5dfcb1e5a304489045d4109eda9">00235</a>                         <a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9a2525d5dfcb1e5a304489045d4109eda9">TargetTexture3</a> 
<a name="l00236"></a>00236                 };
<a name="l00237"></a>00237 
<a name="l00239"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a44cf8c573b924c0a9f3f6383377a0bb4">00239</a>                 <a class="code" href="structomega_1_1_vertex_attribute.html#a44cf8c573b924c0a9f3f6383377a0bb4" title="Constructor.">VertexAttribute</a>() {}
<a name="l00240"></a>00240 
<a name="l00242"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a0aecd42dd3971218d7ba8f2cf0082e5b">00242</a>                 <a class="code" href="structomega_1_1_vertex_attribute.html#a44cf8c573b924c0a9f3f6383377a0bb4" title="Constructor.">VertexAttribute</a>(<a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9" title="Specified the supported attribute destination semantics.">Target</a> _target, <a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9" title="The attirbute components type.">Type</a> _type, <span class="keywordtype">int</span> _offset, <span class="keywordtype">int</span> _components):
<a name="l00243"></a>00243                   <a class="code" href="structomega_1_1_vertex_attribute.html#a9630d72304e1f3c843ca58d5a6579746" title="The destination semantics for the attribute.">target</a>(_target), <a class="code" href="structomega_1_1_vertex_attribute.html#a57e6c4e8c3d1d76e6e5cc0e3ddbc4d0e" title="The component time for this attribute.">type</a>(_type), <a class="code" href="structomega_1_1_vertex_attribute.html#aa0431ac5345d2d94e20c8ac3974d7304" title="The offset in the buffer for this attribute&amp;#39;s data.">offset</a>(_offset), <a class="code" href="structomega_1_1_vertex_attribute.html#a1c13398378cc9d931d238e711a3d93ee" title="The number of components for this attribute.">components</a>(_components) {}
<a name="l00244"></a>00244 
<a name="l00246"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a1c13398378cc9d931d238e711a3d93ee">00246</a>                 <span class="keywordtype">int</span> <a class="code" href="structomega_1_1_vertex_attribute.html#a1c13398378cc9d931d238e711a3d93ee" title="The number of components for this attribute.">components</a>;
<a name="l00248"></a><a class="code" href="structomega_1_1_vertex_attribute.html#aa0431ac5345d2d94e20c8ac3974d7304">00248</a>                 <span class="keywordtype">int</span> <a class="code" href="structomega_1_1_vertex_attribute.html#aa0431ac5345d2d94e20c8ac3974d7304" title="The offset in the buffer for this attribute&amp;#39;s data.">offset</a>;
<a name="l00250"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a57e6c4e8c3d1d76e6e5cc0e3ddbc4d0e">00250</a>                 <a class="code" href="structomega_1_1_vertex_attribute.html#a4e156103174758c99e850d915a6bc2d9" title="The attirbute components type.">Type</a> <a class="code" href="structomega_1_1_vertex_attribute.html#a57e6c4e8c3d1d76e6e5cc0e3ddbc4d0e" title="The component time for this attribute.">type</a>;
<a name="l00252"></a><a class="code" href="structomega_1_1_vertex_attribute.html#a9630d72304e1f3c843ca58d5a6579746">00252</a>                 <a class="code" href="structomega_1_1_vertex_attribute.html#a73a3f604e9cf8f9af55e35f2dfe468d9" title="Specified the supported attribute destination semantics.">Target</a> <a class="code" href="structomega_1_1_vertex_attribute.html#a9630d72304e1f3c843ca58d5a6579746" title="The destination semantics for the attribute.">target</a>;
<a name="l00253"></a>00253         };
<a name="l00254"></a>00254 
<a name="l00256"></a><a class="code" href="classomega_1_1_vertex_buffer.html">00256</a>         <span class="keyword">class </span><a class="code" href="classomega_1_1_vertex_buffer.html">VertexBuffer</a>: <span class="keyword">public</span> <a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>
<a name="l00257"></a>00257         {
<a name="l00258"></a>00258         <span class="keyword">public</span>:
<a name="l00259"></a><a class="code" href="classomega_1_1_vertex_buffer.html#a116bd56c32875ba6952fa6a2a75791f0">00259</a>                 <a class="code" href="classomega_1_1_vertex_buffer.html#a116bd56c32875ba6952fa6a2a75791f0">VertexBuffer</a>(<a class="code" href="classomega_1_1_gpu_manager.html" title="Loads images and manages OpenGL textures.">GpuManager</a>* mng):
<a name="l00260"></a>00260                   <a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>(mng)
<a name="l00261"></a>00261                   {}
<a name="l00262"></a>00262 
<a name="l00264"></a><a class="code" href="classomega_1_1_vertex_buffer.html#a2b75acb0117d9a3e46efe35049d97e7e">00264</a>                 <a class="code" href="structomega_1_1_vertex_attribute.html">VertexAttribute</a>* <a class="code" href="classomega_1_1_vertex_buffer.html#a2b75acb0117d9a3e46efe35049d97e7e">getAttribute</a>(<span class="keywordtype">int</span> index) { <span class="keywordflow">return</span> &amp;myAttributes[index]; }
<a name="l00265"></a>00265                 OMEGA_API <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_vertex_buffer.html#abdc7ae159de8c451d4e3094355275e9a">clearAttributes</a>();
<a name="l00266"></a>00266                 OMEGA_API <span class="keywordtype">int</span> <a class="code" href="classomega_1_1_vertex_buffer.html#a6f5d01842c158656011a62275091a536">getNumAttributes</a>();
<a name="l00267"></a>00267                 OMEGA_API <span class="keywordtype">int</span> <a class="code" href="classomega_1_1_vertex_buffer.html#aa9eaa9cf44fd0fe580671c8335874a08">addAttribute</a>(<span class="keyword">const</span> <a class="code" href="structomega_1_1_vertex_attribute.html">VertexAttribute</a>&amp; attrib);
<a name="l00268"></a>00268 
<a name="l00272"></a>00272                 OMEGA_API <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_vertex_buffer.html#a5b7d0a4104260b263299e6ef8c6c7acc">bind</a>(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_data.html#aaef22784ee3b2930365fe99c21965421">GpuData::BindType</a> bindType);
<a name="l00273"></a>00273                 OMEGA_API <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classomega_1_1_vertex_buffer.html#a1a0ed12313f55a77450d2dfcedf2d790">unbind</a>(<a class="code" href="classomega_1_1_gpu_program.html" title="Represents a program runnable on a Gpu unit.">GpuProgram</a>* prog, <span class="keywordtype">int</span> index, <a class="code" href="classomega_1_1_gpu_data.html#aaef22784ee3b2930365fe99c21965421">GpuData::BindType</a> bindType);
<a name="l00274"></a>00274 
<a name="l00275"></a>00275         <span class="keyword">private</span>:
<a name="l00276"></a>00276                 std::vector&lt;VertexAttribute&gt; myAttributes;
<a name="l00277"></a>00277         };
<a name="l00278"></a>00278 
<a name="l00280"></a><a class="code" href="classomega_1_1_index_buffer.html">00280</a>         <span class="keyword">class </span><a class="code" href="classomega_1_1_index_buffer.html">IndexBuffer</a>: <span class="keyword">public</span> <a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>
<a name="l00281"></a>00281         {
<a name="l00282"></a>00282         <span class="keyword">public</span>:
<a name="l00283"></a><a class="code" href="classomega_1_1_index_buffer.html#a9a567ec8b40a7594752f3599f20468b7">00283</a>                 <a class="code" href="classomega_1_1_index_buffer.html#a9a567ec8b40a7594752f3599f20468b7">IndexBuffer</a>(<a class="code" href="classomega_1_1_gpu_manager.html" title="Loads images and manages OpenGL textures.">GpuManager</a>* mng):
<a name="l00284"></a>00284                   <a class="code" href="classomega_1_1_gpu_buffer.html">GpuBuffer</a>(mng)
<a name="l00285"></a>00285                   {}
<a name="l00286"></a>00286 
<a name="l00287"></a>00287         <span class="keyword">private</span>:
<a name="l00288"></a>00288         };
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 }; <span class="comment">// namespace omega</span>
<a name="l00291"></a>00291 
<a name="l00292"></a>00292 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Aug 30 2010 18:22:30 for OmegaLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
